<div class="event-management-container">
  <mat-card class="header-card">
    <mat-card-header>
      <mat-card-title>Event Management</mat-card-title>
      <mat-card-subtitle>Manage your events and their configurations</mat-card-subtitle>
    </mat-card-header>
    <mat-card-actions align="end">
      <button mat-raised-button color="primary" (click)="addEvent()">
        <mat-icon>add</mat-icon>
        Add Event
      </button>
    </mat-card-actions>
  </mat-card>

  <mat-card class="table-card">
    <div class="table-container">
      <table mat-table [dataSource]="events" class="events-table">
        <!-- Event Logo Column -->
        <ng-container matColumnDef="eventLogo">
          <th mat-header-cell *matHeaderCellDef>Logo</th>
          <td mat-cell *matCellDef="let event">
            <div class="event-logo-container">
              <img 
                [src]="event.eventLogo" 
                [alt]="event.title + ' logo'"
                class="event-logo"
             
              />
            </div>
          </td>
        </ng-container>

        <!-- Title Column -->
        <ng-container matColumnDef="title">
          <th mat-header-cell *matHeaderCellDef>Title</th>
          <td mat-cell *matCellDef="let event">
            <div class="event-title-container">
              <span class="event-title">{{ event.title }}</span>
              <mat-chip 
                [color]="getEventStatusChip(event).color" 
                class="status-chip"
              >
                {{ getEventStatusChip(event).text }}
              </mat-chip>
            </div>
          </td>
        </ng-container>

        <!-- Date Column -->
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef>Date</th>
          <td mat-cell *matCellDef="let event">{{ formatDate(event.date) }}</td>
        </ng-container>

        <!-- Start Time Column -->
        <ng-container matColumnDef="startTime">
          <th mat-header-cell *matHeaderCellDef>Start Time</th>
          <td mat-cell *matCellDef="let event">{{ event.startTime }}</td>
        </ng-container>

        <!-- End Time Column -->
        <ng-container matColumnDef="endTime">
          <th mat-header-cell *matHeaderCellDef>End Time</th>
          <td mat-cell *matCellDef="let event">{{ event.endTime }}</td>
        </ng-container>

        <!-- Event Venue Column -->
        <ng-container matColumnDef="isEventVenue">
          <th mat-header-cell *matHeaderCellDef>Venue Event</th>
          <td mat-cell *matCellDef="let event">
            <mat-icon [color]="event.isEventVenue ? 'primary' : 'warn'">
              {{ event.isEventVenue ? 'check_circle' : 'cancel' }}
            </mat-icon>
          </td>
        </ng-container>

        <!-- Request Tickets Column -->
        <ng-container matColumnDef="requestTickets">
          <th mat-header-cell *matHeaderCellDef>Tickets</th>
          <td mat-cell *matCellDef="let event">
            <mat-icon [color]="event.requestTickets ? 'primary' : 'warn'">
              {{ event.requestTickets ? 'confirmation_number' : 'block' }}
            </mat-icon>
          </td>
        </ng-container>

        <!-- Actions Column -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef>Actions</th>
          <td mat-cell *matCellDef="let event">
            <div class="action-buttons">
              <button 
                mat-icon-button 
                color="primary" 
                (click)="editEvent(event)"
                matTooltip="Edit Event"
              >
                <mat-icon>edit</mat-icon>
              </button>
              <button 
                mat-icon-button 
                color="warn" 
                (click)="deleteEvent(event)"
                matTooltip="Delete Event"
              >
                <mat-icon>delete</mat-icon>
              </button>
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <div *ngIf="events.length === 0" class="no-data">
        <mat-icon>event_busy</mat-icon>
        <p>No events found. Click "Add Event" to create your first event.</p>
      </div>
    </div>
  </mat-card>
</div>